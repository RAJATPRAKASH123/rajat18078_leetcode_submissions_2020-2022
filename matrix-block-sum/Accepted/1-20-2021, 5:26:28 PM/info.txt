{"id":445454843,"question_id":1242,"lang":"python3","lang_name":"Python3","time":"4 years, 1 month","timestamp":1611143788,"status":10,"status_display":"Accepted","runtime":"112 ms","url":"/submissions/detail/445454843/","is_pending":"Not Pending","title":"Matrix Block Sum","memory":"15.5 MB","code":"class Solution:\n    def matrixBlockSum(self, arr: List[List[int]], k: int) -> List[List[int]]:\n        n = len(arr)\n        m = len(arr[0])\n        # ver = [[ 0 for i in range(m+1)] for j in range(n+1)]\n        hor = [[ 0 for i in range(m+1)] for j in range(n+1)]\n        ans = [[ 0 for i in range(m)] for j in range(n)]\n        # for i in range(1,n+1):\n        #     for j in range(1,m+1):\n        #         ver[i][j] = ver[i][j-1] + arr[i-1][j-1]\n        block_sum = [[ 0 for i in range(m+1)] for j in range(n+1)]\n        for j in range(1,m+1):\n            for i in range(1,n+1):\n                hor[i][j] = hor[i-1][j] + arr[i-1][j-1]\n                block_sum[i][j] = hor[i-1][j] + block_sum[i][j-1] + arr[i-1][j-1]\n        # return block_sum\n        \n        for j in range(m):\n            for i in range(n):\n                \n                r,l,u,d = i+k, i-k, j-k, j+k\n                \n                if i+k >= n:\n                    r = n-1\n                if i-k < 0:\n                    l = 0\n                if j+k >= m:\n                    d = m-1\n                if j-k < 0:\n                    u = 0\n                ans[i][j] = block_sum[r+1][d+1] + block_sum[l][u] - block_sum[r+1][u] - block_sum[l][d+1]\n        return ans\n        \n#         for i in range(n):\n#             for j in range(m):\n                \n#                 r,l,u,d = i+k,i-k,j-k,j+k\n#                 if i+k >= n:\n#                     r = n-1\n#                 if i-k < 0:\n#                     l = 0\n#                 if j+k >= m:\n#                     d = m-1\n#                 if j-k < 0:\n#                     u = 0\n                \n#                 ans[i][j] = hor[r+1][j+1]-hor[l][j+1] + ver[i+1][d+1] - ver[i+1][u] - arr[i][j]\n#         print(hor, ver)\n        ","compare_result":"111111111111","title_slug":"matrix-block-sum","has_notes":false,"flag_type":1}