{"id":509443835,"question_id":85,"lang":"python3","lang_name":"Python3","time":"3 years, 8 months","timestamp":1623968845,"status":10,"status_display":"Accepted","runtime":"236 ms","url":"/submissions/detail/509443835/","is_pending":"Not Pending","title":"Maximal Rectangle","memory":"15.7 MB","code":"class Solution:\n    def maximalRectangle(self, matrix: List[List[str]]) -> int:\n        if not matrix:\n            return 0\n        rows, cols = len(matrix), len(matrix[0])\n        cur_grid = [int(i) for i in matrix[0]]\n        \n        def maxHistogram(plot):\n            n = len(plot)\n            prevSmaller = [0] * n\n            nextSmaller = [0] * n\n            # calculating nextSmaller\n            stack = []\n            for i in range(n-1, -1, -1):\n                while stack and plot[stack[-1]] >= plot[i]:\n                    stack.pop()\n                if stack:\n                    nextSmaller[i] = stack[-1]\n                else:\n                    nextSmaller[i] = n\n                stack.append(i)\n                \n            # calculating prevSmaller\n            stack = []\n            for i in range(n):\n                while stack and plot[stack[-1]] >= plot[i]:\n                    stack.pop()\n                if stack:\n                    prevSmaller[i] = stack[-1]\n                else:\n                    prevSmaller[i] = -1\n                stack.append(i)\n            area = 0\n            count = 0\n            for left, right in zip(prevSmaller, nextSmaller):\n                area = max(area, (right-left-1 ) * plot[count])\n                count += 1\n            return area\n        res = maxHistogram(cur_grid)\n        \n        for i in range(1, rows):\n            \n            for j in range(cols):\n                if matrix[i][j] == \"0\": \n                    cur_grid[j] = 0\n                else:\n                    cur_grid[j] += 1\n            res = max(res, maxHistogram(cur_grid))\n        return res","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"maximal-rectangle","has_notes":false,"flag_type":1}